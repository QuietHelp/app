{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/tarbipyakurel/Desktop/QuietHelp-app/frontend/components/MatchingForm.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef } from 'react';\nimport Stepper, { Step } from './Stepper';\nimport { CountryDropdown } from 'react-country-region-selector';\n\ninterface MatchingFormProps {\n  onSubmit: (data: { mood: string; age: number; country: string }) => void;\n}\n\nconst MOODS = ['STRESS', 'LONELY', 'BURNOUT', 'PANIC','OTHER'];\n\n\nexport default function MatchingForm({ onSubmit }: MatchingFormProps) {\n  const formRef = useRef<HTMLFormElement>(null);\n  const [selectedMood, setSelectedMood] = useState('');\n  const [selectedAge, setSelectedAge] = useState('');\n  const [selectedCountry, setSelectedCountry] = useState('');\n\n  const handleFinalStepCompleted = () => {\n    // Validate all fields\n    if (!selectedMood || !selectedAge || !selectedCountry) {\n      if (formRef.current) {\n        formRef.current.reportValidity();\n      }\n      return;\n    }\n\n    const age = parseInt(selectedAge);\n    if (age < 13 || age > 120) {\n      if (formRef.current) {\n        formRef.current.reportValidity();\n      }\n      return;\n    }\n\n    // Submit the form data\n    onSubmit({ \n      mood: selectedMood, \n      age: age, \n      country: selectedCountry \n    });\n  };\n\n  return (\n    <form \n      ref={formRef}\n      onSubmit={(e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      }}\n    >\n      <Stepper\n        initialStep={1}\n        onFinalStepCompleted={handleFinalStepCompleted}\n        backButtonText=\"Back\"\n        nextButtonText=\"Continue\"\n        contentClassName=\"text-center\"\n        nextButtonProps={{\n          type: 'button'\n        }}\n        backButtonProps={{\n          type: 'button'\n        }}\n      >\n        <Step>\n          <MoodSelectionStep \n            selectedMood={selectedMood}\n            onMoodSelect={setSelectedMood}\n          />\n        </Step>\n        <Step>\n          <AgeInputStep \n            selectedAge={selectedAge}\n            onAgeChange={setSelectedAge}\n          />\n        </Step>\n        <Step>\n          <CountrySelectionStep \n            selectedCountry={selectedCountry}\n            onCountrySelect={setSelectedCountry}\n          />\n        </Step>\n      </Stepper>\n    </form>\n  );\n}\n\nfunction MoodSelectionStep({ \n  selectedMood, \n  onMoodSelect \n}: { \n  selectedMood: string; \n  onMoodSelect: (mood: string) => void; \n}) {\n  return (\n    <div className=\"text-center\">\n      <h2 className=\"h1 text-white mb-4 sm:mb-6\">\n        How are you feeling?\n      </h2>\n      <div className=\"flex flex-col gap-3 sm:gap-4\">\n        {MOODS.map((mood) => (\n          <div\n            key={mood}>\n            <button\n              type=\"button\"\n              onClick={() => onMoodSelect(mood)}\n              className={`w-full p-3 sm:p-4 text-base sm:text-lg font-medium rounded-lg cursor-pointer transition-all duration-300 hover-lift relative overflow-hidden ${\n                selectedMood === mood\n                  ? 'bg-white text-blue-600 shadow-lg'\n                  : 'bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20'\n              }`}>\n              {mood}\n            </button>\n         </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction AgeInputStep({ \n  selectedAge, \n  onAgeChange \n}: { \n  selectedAge: string; \n  onAgeChange: (age: string) => void; \n}) {\n  return (\n      <div className=\"text-center\">\n        <h2 \n        className=\"text-2xl sm:text-3xl font-semibold text-white mb-3 sm:mb-4\"\n      >\n        What&apos;s your age?\n      </h2>\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"mb-4\">\n          <input\n            type=\"number\"\n            name=\"age\"\n            value={selectedAge}\n            onChange={(e) => onAgeChange(e.target.value)}\n            placeholder=\"Enter your age\"\n            className=\"w-full p-3 sm:p-4 text-base sm:text-lg text-center bg-white/10 backdrop-blur-md border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 focus:bg-white/20\"\n            min=\"13\"\n            max=\"120\"\n            required\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction CountrySelectionStep({ \n  selectedCountry, \n  onCountrySelect \n}: { \n  selectedCountry: string; \n  onCountrySelect: (country: string) => void; \n}) {\n  return (\n    <div className=\"text-center\">\n      <h2 \n        className=\"h1 text-white mb-4 sm:mb-6\">\n        Where are you located?\n      </h2>\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"mb-4 country-select-wrapper\">\n          <CountryDropdown\n            value={selectedCountry}\n            onChange={(val) => onCountrySelect(val)}\n            defaultOptionLabel=\"Select your country...\"\n            priorityOptions={['US', 'GB', 'CA', 'AU', 'DE', 'FR', 'IT', 'ES', 'NL', 'IN', 'CN', 'JP', 'KR', 'BR', 'MX', 'AR', 'ZA', 'NZ', 'IE']}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/tarbipyakurel/Desktop/QuietHelp-app/frontend/app/mood/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport MatchingForm from '../../components/MatchingForm';\n\nexport default function MoodPage() {\n  const router = useRouter();\n  const [sessionId, setSessionId] = useState<string | null>(null);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    // Mark as mounted and load sessionId from sessionStorage\n    setMounted(true);\n    const storedSessionId = sessionStorage.getItem('sessionId');\n    setSessionId(storedSessionId);\n  }, []);\n\n  useEffect(() => {\n    if (!mounted) return;\n    \n    if (!sessionId) {\n      router.push('/');\n    }\n  }, [sessionId, router, mounted]);\n\n  const handleFormSubmit = (data: { mood: string; age: number; country: string }) => {\n    // Store all form data\n    sessionStorage.setItem('matchingData', JSON.stringify(data));\n    router.push('/matching');\n  };\n\n  // Always show loading until mounted and sessionId is loaded\n  if (!mounted || !sessionId) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center gradient-bg\">\n        <div className=\"text-white text-lg\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex flex-col p-4 sm:p-6 lg:p-8 gradient-bg\">\n      <main className=\"grow flex items-center justify-center\">\n        <div className=\"max-w-2xl mx-auto w-full\">\n          <MatchingForm onSubmit={handleFormSubmit} />\n          </div>\n      </main>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAgB;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,yDAAyD;QACzD,WAAW;QACX,MAAM,kBAAkB,eAAe,OAAO,CAAC;QAC/C,aAAa;IACf,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,SAAS;QAEd,IAAI,CAAC,WAAW;YACd,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAW;QAAQ;KAAQ;IAE/B,MAAM,mBAAmB,CAAC;QACxB,sBAAsB;QACtB,eAAe,OAAO,CAAC,gBAAgB,KAAK,SAAS,CAAC;QACtD,OAAO,IAAI,CAAC;IACd;IAEA,4DAA4D;IAC5D,IAAI,CAAC,WAAW,CAAC,WAAW;QAC1B,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAqB;;;;;;;;;;;IAG1C;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAK,WAAU;sBACd,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,sIAAY;oBAAC,UAAU;;;;;;;;;;;;;;;;;;;;;AAKlC"}}]
}