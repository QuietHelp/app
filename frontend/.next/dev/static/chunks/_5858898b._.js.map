{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tarbipyakurel/Desktop/QuietHelp-app/frontend/lib/ws.ts"],"sourcesContent":["'use client';\n\nimport { Client, type IFrame } from \"@stomp/stompjs\";\nimport SockJS from \"sockjs-client\";\n\nlet stompClient: Client | null = null;\nconst WS_URL = \"http://localhost:8080/ws\";\n\nexport function getStompClient(): Client {\n  if (stompClient) return stompClient;\n\n  stompClient = new Client({\n    webSocketFactory: () => (new SockJS(WS_URL) as unknown as WebSocket),\n    reconnectDelay: 5000,\n    heartbeatIncoming: 4000,\n    heartbeatOutgoing: 4000,\n    onConnect: () => console.log(\"WebSocket connected\"),\n    onDisconnect: () => console.log(\"WebSocket disconnected\"),\n    onStompError: (frame: IFrame) => {\n      console.error(\"STOMP error:\", frame.headers[\"message\"], frame.body);\n    },\n  });\n\n  stompClient.activate();\n  return stompClient;\n}\n\nexport function waitForConnection(client: Client): Promise<void> {\n  return new Promise((resolve) => {\n    if (client.connected) return resolve();\n\n    const prevOnConnect = client.onConnect;\n    client.onConnect = (frame: IFrame) => {\n      if (prevOnConnect) prevOnConnect(frame);\n      resolve();\n      client.onConnect = prevOnConnect ?? (() => {});\n    };\n  });\n}\n\nexport async function disconnectStompClient(): Promise<void> {\n  if (!stompClient) return;\n  await stompClient.deactivate();\n  stompClient = null;\n}\n\n"],"names":[],"mappings":";;;;;;;;AAEA;AACA;AAHA;;;AAKA,IAAI,cAA6B;AACjC,MAAM,SAAS;AAER,SAAS;IACd,IAAI,aAAa,OAAO;IAExB,cAAc,IAAI,iKAAM,CAAC;QACvB,kBAAkB,IAAO,IAAI,8JAAM,CAAC;QACpC,gBAAgB;QAChB,mBAAmB;QACnB,mBAAmB;QACnB,WAAW,IAAM,QAAQ,GAAG,CAAC;QAC7B,cAAc,IAAM,QAAQ,GAAG,CAAC;QAChC,cAAc,CAAC;YACb,QAAQ,KAAK,CAAC,gBAAgB,MAAM,OAAO,CAAC,UAAU,EAAE,MAAM,IAAI;QACpE;IACF;IAEA,YAAY,QAAQ;IACpB,OAAO;AACT;AAEO,SAAS,kBAAkB,MAAc;IAC9C,OAAO,IAAI,QAAQ,CAAC;QAClB,IAAI,OAAO,SAAS,EAAE,OAAO;QAE7B,MAAM,gBAAgB,OAAO,SAAS;QACtC,OAAO,SAAS,GAAG,CAAC;YAClB,IAAI,eAAe,cAAc;YACjC;YACA,OAAO,SAAS,GAAG,iBAAiB,CAAC,KAAO,CAAC;QAC/C;IACF;AACF;AAEO,eAAe;IACpB,IAAI,CAAC,aAAa;IAClB,MAAM,YAAY,UAAU;IAC5B,cAAc;AAChB"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/tarbipyakurel/Desktop/QuietHelp-app/frontend/components/ChatRoom.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef, useState } from \"react\";\nimport type { IMessage, StompSubscription } from \"@stomp/stompjs\";\nimport { getStompClient, waitForConnection } from \"../lib/ws\";\nimport { formatMessageTime, formatFullTimestamp, shouldShowDateSeparator, formatDateSeparator } from \"../lib/chatUtils\";\nimport { motion } from \"framer-motion\";\n\nexport type ChatMessage = {\n  roomId?: string;\n  senderSessionId?: string;\n  message: string;\n  timestamp: number | string; // Epoch milliseconds (number) or ISO string\n  username?: string; // Optional, from backend\n};\n\nexport type MatchFound = {\n  roomId: string;\n  peerSessionId: string;\n};\n\nexport type ChatRoomProps = {\n  sessionId: string;\n  matchData: MatchFound;\n};\n\nexport default function ChatRoom({ sessionId, matchData }: ChatRoomProps) {\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [input, setInput] = useState(\"\");\n  const [myUsername, setMyUsername] = useState<string>(\"\");\n  const [peerUsername, setPeerUsername] = useState<string>(\"\");\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const subscriptionRef = useRef<StompSubscription | null>(null);\n  const didSubscribeRef = useRef(false);\n  const sessionIdRef = useRef<string>(sessionId);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Generate or retrieve username for current user\n  useEffect(() => {\n    const storedUsername = localStorage.getItem(`chat_username_${sessionId}`);\n    if (storedUsername) {\n      setMyUsername(storedUsername);\n    } else {\n      // Generate a unique guest username using sessionId (UUID) to ensure uniqueness\n      // Take first 8 hex characters of UUID, convert to number, use last 6 digits\n      // This ensures each sessionId gets a unique but readable username\n      const uuidHex = sessionId.replace(/-/g, '').substring(0, 8);\n      const numericValue = parseInt(uuidHex, 16);\n      // Use last 6 digits for readability (ensures uniqueness per UUID)\n      const usernameSuffix = String(numericValue % 1000000).padStart(6, '0');\n      const username = `Guest${usernameSuffix}`;\n      localStorage.setItem(`chat_username_${sessionId}`, username);\n      setMyUsername(username);\n    }\n  }, [sessionId]);\n\n  // Keep sessionId ref updated\n  useEffect(() => {\n    sessionIdRef.current = sessionId;\n  }, [sessionId]);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    const setupConnection = async () => {\n      try {\n        const client = getStompClient();\n        await waitForConnection(client);\n\n        if (!isMounted) return;\n\n        // React StrictMode can run effects twice in dev; guard to avoid double subscribe\n        if (didSubscribeRef.current) return;\n        didSubscribeRef.current = true;\n\n        // Handler function for processing messages\n        const handleMessage = (messageBody: string) => {\n          try {\n            const data = JSON.parse(messageBody) as ChatMessage;\n            \n            // Validate message structure\n            if (data && typeof data.message === 'string') {\n              // Track peer's username from their messages\n              if (data.username && data.senderSessionId !== sessionIdRef.current) {\n                setPeerUsername(data.username);\n              }\n              \n              // Ensure roomId and senderSessionId are set for room-based chat\n              const roomMessage: ChatMessage = {\n                ...data,\n                roomId: matchData.roomId,\n                senderSessionId: data.senderSessionId || sessionIdRef.current,\n                timestamp: data.timestamp || Date.now(),\n              };\n              \n              setMessages((prev) => [...prev, roomMessage]);\n            }\n          } catch (error) {\n            console.error(\"Failed to parse chat message:\", error);\n          }\n        };\n\n        // Subscribe to room-specific topic\n        subscriptionRef.current = client.subscribe(\n          `/topic/chat/${matchData.roomId}`,\n          (message: IMessage) => handleMessage(message.body)\n        );\n      } catch (error) {\n        console.error(\"Failed to setup chat connection:\", error);\n      }\n    };\n\n    setupConnection();\n\n    return () => {\n      isMounted = false;\n      didSubscribeRef.current = false;\n\n      if (subscriptionRef.current) {\n        subscriptionRef.current.unsubscribe();\n        subscriptionRef.current = null;\n      }\n    };\n  }, [matchData.roomId]);\n\n  const sendMessage = async () => {\n    const messageText = input.trim();\n    if (!messageText) return;\n\n    try {\n      // Moderate message before sending\n      const moderationResponse = await fetch('/api/moderate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ message: messageText }),\n      });\n\n      const moderationResult = await moderationResponse.json();\n\n      if (!moderationResult.isAppropriate) {\n        alert(`Message cannot be sent: ${moderationResult.reason || 'Content violates community guidelines'}`);\n        return;\n      }\n\n      const client = getStompClient();\n      await waitForConnection(client);\n\n      const chatMessage = {\n        roomId: matchData.roomId,\n        senderSessionId: sessionId,\n        message: messageText,\n        username: myUsername, // Send our username so backend can use it\n      };\n\n      client.publish({\n        destination: \"/app/chat.send\",\n        body: JSON.stringify(chatMessage),\n      });\n\n      setInput(\"\");\n    } catch (error) {\n      console.error(\"Failed to send message:\", error);\n      alert(\"Failed to send message. Please try again.\");\n    }\n  };\n\n  return (\n    <div className=\"h-[calc(100vh-4rem)] flex flex-col\">\n      <div className=\"bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-4 sm:p-6 mb-4\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"h4 text-white mb-1\">Chat Room</h2>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"></div>\n              <p className=\"text-sm text-white/80\">\n                {peerUsername \n                  ? `Connected to ${peerUsername}`\n                  : \"Connected\"}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex-1 bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-4 sm:p-6 overflow-y-auto mb-4 min-h-0\">\n        {messages.length === 0 ? (\n          <div className=\"text-center text-white/60 mt-8\">\n            <p>No messages yet. Start the conversation!</p>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {messages.map((m, idx) => {\n              const isMyMessage = m.senderSessionId === sessionIdRef.current;\n              const displayUsername = isMyMessage ? myUsername : (m.username || peerUsername || \"Guest\");\n              return (\n                <div \n                  key={idx} \n                  className={`flex ${isMyMessage ? 'justify-end' : 'justify-start'}`}\n                >\n                  <div className={`max-w-[80%] sm:max-w-[70%] ${isMyMessage ? 'bg-blue-600 text-white' : 'bg-white/20 text-white'} rounded-lg p-3 sm:p-4`}>\n                    <div className=\"text-xs opacity-70 mb-1\">\n                      {displayUsername} â€¢ {new Date(m.timestamp).toLocaleTimeString()}\n                    </div>\n                    <div className=\"text-sm sm:text-base wrap-break-word\">{m.message}</div>\n                  </div>\n                </div>\n              );\n            })}\n            <div ref={messagesEndRef} />\n          </div>\n        )}\n      </div>\n\n      <div className=\"flex gap-3\">\n        <input\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          placeholder=\"Type a message...\"\n          className=\"flex-1 p-3 sm:p-4 text-base bg-white/10 backdrop-blur-md border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 focus:bg-white/20\"\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") sendMessage();\n          }}\n        />\n        <button \n          onClick={sendMessage}\n          className=\"px-6 sm:px-8 py-3 sm:py-4 bg-white text-blue-600 rounded-lg font-medium hover:bg-white/90 transition-colors focus:outline-none focus:ring-2 focus:ring-white/50\"\n        >\n          Send\n        </button>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 407, "column": 0}, "map": {"version":3,"sources":["file:///Users/tarbipyakurel/Desktop/QuietHelp-app/frontend/app/chat/%5BroomId%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport ChatRoom from '../../../components/ChatRoom';\n\nexport default function ChatRoomPage() {\n  const params = useParams();\n  const router = useRouter();\n  const roomId = params.roomId as string;\n  \n  const [sessionId, setSessionId] = useState<string | null>(null);\n  const [matchData, setMatchData] = useState<{ roomId: string; peerSessionId: string } | null>(null);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    // Mark as mounted to indicate we're on the client\n    setMounted(true);\n    \n    // Only access localStorage on the client side\n    const storedSessionId = localStorage.getItem('sessionId');\n    const savedMatchData = localStorage.getItem('matchData');\n    \n    setSessionId(storedSessionId);\n    \n    if (savedMatchData) {\n      try {\n        const parsed = JSON.parse(savedMatchData);\n        // Verify the roomId matches\n        if (parsed.roomId === roomId) {\n          setMatchData(parsed);\n        } else {\n          setMatchData(null);\n        }\n      } catch {\n        setMatchData(null);\n      }\n    } else {\n      setMatchData(null);\n    }\n  }, [roomId]);\n\n  useEffect(() => {\n    if (!mounted) return;\n    \n    if (!sessionId) {\n      router.push('/');\n      return;\n    }\n\n    if (!roomId) {\n      router.push('/matching');\n      return;\n    }\n\n    if (!matchData) {\n      router.push('/matching');\n      return;\n    }\n  }, [sessionId, roomId, matchData, router, mounted]);\n\n  // Always show loading until mounted and data is loaded\n  if (!mounted || !sessionId || !matchData) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center gradient-bg\">\n        <div className=\"text-white text-lg\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen gradient-bg\">\n      <div className=\"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8\">\n        <ChatRoom sessionId={sessionId} matchData={matchData} />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,SAAS,OAAO,MAAM;IAE5B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAgB;IAC1D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAmD;IAC7F,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,kDAAkD;YAClD,WAAW;YAEX,8CAA8C;YAC9C,MAAM,kBAAkB,aAAa,OAAO,CAAC;YAC7C,MAAM,iBAAiB,aAAa,OAAO,CAAC;YAE5C,aAAa;YAEb,IAAI,gBAAgB;gBAClB,IAAI;oBACF,MAAM,SAAS,KAAK,KAAK,CAAC;oBAC1B,4BAA4B;oBAC5B,IAAI,OAAO,MAAM,KAAK,QAAQ;wBAC5B,aAAa;oBACf,OAAO;wBACL,aAAa;oBACf;gBACF,EAAE,OAAM;oBACN,aAAa;gBACf;YACF,OAAO;gBACL,aAAa;YACf;QACF;iCAAG;QAAC;KAAO;IAEX,IAAA,0KAAS;kCAAC;YACR,IAAI,CAAC,SAAS;YAEd,IAAI,CAAC,WAAW;gBACd,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,IAAI,CAAC,QAAQ;gBACX,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,IAAI,CAAC,WAAW;gBACd,OAAO,IAAI,CAAC;gBACZ;YACF;QACF;iCAAG;QAAC;QAAW;QAAQ;QAAW;QAAQ;KAAQ;IAElD,uDAAuD;IACvD,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,WAAW;QACxC,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BAAqB;;;;;;;;;;;IAG1C;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,qIAAQ;gBAAC,WAAW;gBAAW,WAAW;;;;;;;;;;;;;;;;AAInD;GAvEwB;;QACP,kJAAS;QACT,kJAAS;;;KAFF"}}]
}